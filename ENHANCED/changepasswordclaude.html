<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BitStorm — Change Password</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">

<style>
*, *::before, *::after {
  margin: 0; padding: 0; box-sizing: border-box;
}

:root {
  --blue-900: #0c2340;
  --blue-800: #123a6b;
  --blue-600: #1a5fa8;
  --blue-400: #3b8fd4;
  --blue-200: #b8d8f5;
  --blue-100: #dceefb;
  --blue-50:  #f0f7fd;
  --white:    #ffffff;
  --text-primary: #0d1f35;
  --text-secondary: #4a6785;
  --text-muted: #8aabca;
  --border: #d0e4f4;
}

body {
  min-height: 100vh;
  background-color: var(--blue-50);
  font-family: 'DM Sans', sans-serif;
  display: flex;
  align-items: stretch;
  overflow-x: hidden;
}

/* ── Left Panel ── */
.left-panel {
  width: 340px;
  flex-shrink: 0;
  background-color: var(--blue-800);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 52px 44px;
  position: relative;
  overflow: hidden;
}

.left-panel::before {
  content: '';
  position: absolute;
  width: 420px; height: 420px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.05);
  top: -140px; right: -180px;
}

.left-panel::after {
  content: '';
  position: absolute;
  width: 280px; height: 280px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.04);
  bottom: -60px; left: -80px;
}

.cross-bg {
  position: absolute;
  color: rgba(255,255,255,0.05);
  font-weight: 100;
  line-height: 1;
  animation: floatUp 7s ease-in-out infinite;
  pointer-events: none;
}
.cross-bg.c1 { font-size: 160px; top: 30px; right: 30px; }
.cross-bg.c2 { font-size: 80px; bottom: 100px; right: 50px; animation-delay: 3.5s; }

@keyframes floatUp {
  0%,100% { transform: translateY(0); }
  50%      { transform: translateY(-10px); }
}

.brand-logo {
  display: flex;
  align-items: center;
  gap: 10px;
  animation: fadeSlideIn 0.6s ease both;
}


.brand-icon svg { width: 60px; height: 60px; stroke: var(--white); }
.brand-name { font-size: 20px; font-weight: 600; color: var(--white); letter-spacing: 0.02em; }

.panel-middle { animation: fadeSlideIn 0.6s ease 0.1s both; }

.panel-middle h1 {
  font-family: 'Playfair Display', serif;
  font-size: 30px; color: var(--white);
  line-height: 1.3; font-weight: 400;
  margin-bottom: 16px;
}

.panel-middle h1 em { font-style: italic; color: var(--blue-200); }

.panel-middle p {
  font-size: 13.5px;
  color: rgba(255,255,255,0.5);
  line-height: 1.75; font-weight: 300;
}

.steps {
  display: flex;
  flex-direction: column;
  gap: 14px;
  animation: fadeSlideIn 0.6s ease 0.2s both;
}

.step { display: flex; align-items: flex-start; gap: 12px; }

.step-num {
  width: 22px; height: 22px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.2);
  display: flex; align-items: center; justify-content: center;
  font-size: 10px; font-weight: 600;
  color: var(--blue-200); flex-shrink: 0; margin-top: 1px;
}

.step span {
  font-size: 12.5px;
  color: rgba(255,255,255,0.45);
  font-weight: 300; line-height: 1.5;
}

/* ── Right Panel ── */
.right-panel {
  flex: 1;
  background: var(--white);
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 52px 56px;
  position: relative;
  overflow-y: auto;
}

.right-panel::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 3px; height: 100%;
  background: linear-gradient(to bottom, transparent, var(--blue-400), transparent);
  opacity: 0.25;
}

/* Form header */
.form-header {
  margin-bottom: 36px;
  animation: fadeSlideIn 0.6s ease 0.1s both;
}

.form-header .eyebrow {
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--blue-400); margin-bottom: 8px;
}

.form-header h2 {
  font-size: 24px; font-weight: 600;
  color: var(--text-primary); letter-spacing: -0.02em;
  margin-bottom: 5px;
}

.form-header p {
  font-size: 13.5px; color: var(--text-secondary); font-weight: 400;
}

/* Section label */
.section-label {
  font-size: 11px; font-weight: 600;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: var(--text-muted);
  margin: 24px 0 14px;
  display: flex; align-items: center; gap: 10px;
}

.section-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
.section-label:first-of-type { margin-top: 0; }

/* Form groups */
.form-group {
  margin-bottom: 18px;
  animation: fadeSlideIn 0.5s ease both;
}

.form-group label {
  display: block;
  font-size: 12px; font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 7px; letter-spacing: 0.01em;
}

.input-wrapper { position: relative; }

.input-wrapper svg.field-icon {
  position: absolute; left: 13px; top: 50%;
  transform: translateY(-50%);
  width: 15px; height: 15px;
  stroke: var(--text-muted);
  pointer-events: none; transition: stroke 0.2s;
}

.input-wrapper input {
  width: 100%;
  padding: 12px 40px 12px 40px;
  border: 1.5px solid var(--border);
  border-radius: 9px;
  font-size: 13.5px;
  font-family: 'DM Sans', sans-serif;
  color: var(--text-primary);
  background: var(--blue-50);
  outline: none;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
}

.input-wrapper input::placeholder { color: var(--text-muted); }

.input-wrapper input:focus {
  border-color: var(--blue-400);
  background: var(--white);
  box-shadow: 0 0 0 4px rgba(59,143,212,0.1);
}

.input-wrapper:has(input:focus) svg.field-icon { stroke: var(--blue-400); }

/* Password toggle */
.pw-toggle {
  position: absolute; right: 13px; top: 50%;
  transform: translateY(-50%);
  cursor: pointer; background: none; border: none;
  padding: 0; display: flex; align-items: center;
}

.pw-toggle svg {
  width: 15px; height: 15px;
  stroke: var(--text-muted);
  transition: stroke 0.2s;
}

.pw-toggle:hover svg { stroke: var(--blue-400); }

/* Submit button */
.submit-btn {
  width: 100%; padding: 14px;
  border-radius: 9px; border: none;
  background: var(--blue-800);
  color: var(--white);
  font-size: 14px; font-weight: 600;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer; letter-spacing: 0.02em;
  transition: background 0.2s, transform 0.15s, box-shadow 0.2s;
  margin-top: 6px;
  animation: fadeSlideIn 0.5s ease 0.38s both;
}

.submit-btn:hover {
  background: var(--blue-900);
  box-shadow: 0 6px 20px rgba(18,58,107,0.25);
  transform: translateY(-1px);
}

.submit-btn:active { transform: translateY(0); box-shadow: none; }

/* Back link */
.back-cta {
  text-align: center; margin-top: 20px;
  font-size: 13px; color: var(--text-secondary);
  animation: fadeSlideIn 0.5s ease 0.42s both;
}

.back-cta a {
  color: var(--blue-600); text-decoration: none; font-weight: 600;
  transition: color 0.2s;
}

.back-cta a:hover { color: var(--blue-900); }

/* Security note */
.security-note {
  display: flex; align-items: center; justify-content: center; gap: 6px;
  margin-top: 28px; padding-top: 20px;
  border-top: 1px solid var(--border);
  animation: fadeSlideIn 0.5s ease 0.46s both;
}

.security-note svg { width: 12px; height: 12px; stroke: var(--text-muted); flex-shrink: 0; }
.security-note span { font-size: 11px; color: var(--text-muted); font-weight: 300; }

/* Animations */
@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

.form-group:nth-child(1) { animation-delay: 0.15s; }
.form-group:nth-child(2) { animation-delay: 0.22s; }
.form-group:nth-child(3) { animation-delay: 0.29s; }

/* Responsive */
@media (max-width: 860px) {
  body { flex-direction: column; }
  .left-panel { width: 100%; padding: 36px 28px; }
  .panel-middle h1 { font-size: 24px; }
  .steps { flex-direction: row; flex-wrap: wrap; gap: 10px; }
  .cross-bg { display: none; }
  .right-panel { padding: 40px 24px 52px; }
  .right-panel::before { display: none; }
}
</style>
</head>

<body>

<!-- ── Left Panel ── -->
<div class="left-panel">
  <div class="cross-bg c1">+</div>
  <div class="cross-bg c2">+</div>

  <div class="brand-logo">
    <div class="brand-icon">
      <svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="heartGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#03070d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3689d7;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <path d="M100 170 C 100 170 30 120 30 75 A 35 35 0 0 1 100 50 A 35 35 0 0 1 170 75 C 170 120 100 170 100 170 Z" 
        fill="none" 
        stroke="url(#heartGradient)" 
        stroke-width="20" 
        stroke-linejoin="round"/>
        
  <path d="M20 100 H 60 L 75 70 L 95 130 L 115 40 L 135 100 H 180" 
        fill="none" 
        stroke="#63b3ed" 
        stroke-width="10" 
        stroke-linecap="round" 
        stroke-linejoin="round"/>
</svg>
    </div>
    <span class="brand-name">BitStorm</span>
  </div>

  <div class="panel-middle">
    <h1>Keep your<br>account <em>safe</em><br>and secure.</h1>
    <p style="margin-top:16px;">Use a strong, unique password to protect your health data. We recommend updating it regularly for best security.</p>
  </div>

  <div class="steps">
    <div class="step">
      <div class="step-num">1</div>
      <span>Confirm your current password</span>
    </div>
    <div class="step">
      <div class="step-num">2</div>
      <span>Choose a strong new password</span>
    </div>
    <div class="step">
      <div class="step-num">3</div>
      <span>Continue monitoring your health</span>
    </div>
  </div>
</div>

<!-- ── Right Panel ── -->
<div class="right-panel">

  <div class="form-header">
    <div class="eyebrow">Account Security</div>
    <h2>Change your password</h2>
    <p>Enter your current password, then set a new one to update your credentials.</p>
  </div>

  <div class="section-label">Current Credentials</div>

  <div class="form-group">
    <label for="currentPassword">Current Password</label>
    <div class="input-wrapper">
      <svg class="field-icon" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
      </svg>
      <input type="password" id="currentPassword" placeholder="••••••••">
      <button type="button" class="pw-toggle" onclick="togglePassword('currentPassword', this)" aria-label="Toggle password">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="section-label">New Password</div>

  <div class="form-group">
    <label for="newPassword">New Password</label>
    <div class="input-wrapper">
      <svg class="field-icon" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
      </svg>
      <input type="password" id="newPassword" placeholder="••••••••">
      <button type="button" class="pw-toggle" onclick="togglePassword('newPassword', this)" aria-label="Toggle password">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="form-group">
    <label for="confirmNewPassword">Confirm New Password</label>
    <div class="input-wrapper">
      <svg class="field-icon" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
      </svg>
      <input type="password" id="confirmNewPassword" placeholder="••••••••">
      <button type="button" class="pw-toggle" onclick="togglePassword('confirmNewPassword', this)" aria-label="Toggle password">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
        </svg>
      </button>
    </div>
  </div>

  <button class="submit-btn" onclick="changePassword()">Update Password</button>

  <div class="back-cta">
    Changed your mind? <a href="profileclaude.html">Back to Profile</a>
  </div>

</div>

<script>
function togglePassword(id, btn) {
  const field = document.getElementById(id);
  const isHidden = field.type === 'password';
  field.type = isHidden ? 'text' : 'password';
  btn.querySelector('svg').style.opacity = isHidden ? '0.4' : '1';
}

function changePassword() {
  const current    = document.getElementById("currentPassword").value;
  const newPass    = document.getElementById("newPassword").value;
  const confirmNew = document.getElementById("confirmNewPassword").value;

  const storedPassword = localStorage.getItem("storedPassword");
  if (current !== storedPassword) {
    alert("Current password is incorrect!");
    window.location.href ="changepasswordclaude.html";
    return;
  }

  if (newPass !== confirmNew) {
    alert("New passwords do not match!");
    window.location.href ="changepasswordclaude.html";
    return;
  }

  if (newPass.length < 3) {
    alert("Password must be at least 3 characters.");
    window.location.href ="changepasswordclaude.html";
    return;
  }


  localStorage.setItem("storedPassword", newPass);

  alert("Password Updated Successfully!");
  window.location.href = "loginclaude.html";

  document.getElementById("currentPassword").value   = "";
  document.getElementById("newPassword").value        = "";
  document.getElementById("confirmNewPassword").value = "";
}
</script>

</body>
</html>
